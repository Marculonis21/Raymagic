config
{
    name: lvl3
    player_spawn: (100,100,100)
    top_corner: (500,600,300)
    bot_corner: (-300,0,-300)
    anchor_start: (0,0,75)
    anchor_end: (0,0,75)
}

static
{
    plane[floor]:(0,0,0)|(0,0,1)|Beige
    plane[roof] :(0,0,298)|(0,0,-1)|Beige
    plane[wall1] :(2,0,0)|(1,0,0)|Beige
    plane[wall2] :(498,0,0)|(-1,0,0)|Beige
    plane[wall3] :(0,2,0)|(0,1,0)|Beige
    plane[wall4] :(0,598,0)|(0,-1,0)|Beige

    boolean: wall1: difference: plane:(-18,0,0)|(1,0,0)|Black|false
    boolean: wall2: difference: plane:(-18,0,0)|(1,0,0)|Black|false
    boolean: wall4: difference: plane:(-18,0,0)|(1,0,0)|Black|false

    plane[wall5] :(-298,0,0)|(1,0,0)|Beige
    plane[roof2] :(0,0,160)|(0,0,-1)|Beige
    plane[wall6] :(0,300,0)|(0,-1,0)|DarkGray

    boolean: roof2: intersect: plane:(-18,0,0)|(1,0,0)|Black|false
    boolean: wall6: intersect: plane:(-18,0,0)|(1,0,0)|Black|false
    boolean: wall1: difference: box:(2,120,0)|(150,150,300)|Black|false

    boolean: wall5: difference: plane:(0,310,0)|(0,-1,0)|Black|false
    boolean: roof2: difference: plane:(0,310,0)|(0,-1,0)|Black|false
    boolean: wall6: difference: plane:(0,310,0)|(0,-1,0)|Black|false

    boolean: floor: difference: box:(250,525,0)|(300,150,300)|Black|false

    box[side1]:(440,525,50)|(120,150,600)|DarkGray|(500,200,500)
    box[side2]:(60,525,50)|(120,150,600)|DarkGray|(500,200,500)
    box[top1]:(250,525,250)|(300,150,100)|DarkGray|(500,200,500)
    box[bottom1]:(250,525,-150)|(250,130,12)|White|(500,200,20)
    box[bottom2]:(250,525,-150)|(300,150,10)|Gray|(500,200,20)

    box[plate1]:(425,325,150)|(150,150,15)|Blue|(150,150,20)
    box[plate2]:( 75,325,150)|(150,150,15)|Blue|(150,150,20)

#     box[plate1rail]:(425,325,175)|(150,150,10)|Gray|(150,150,20)
#     boolean: plate1rail: difference: box:(0,0,0)|(145,145,60)|Black|true

#     box[plate1railCorner]:(425,325,160)|(5,5,20)|Gray|(150,150,20)
#     symmetry: plate1railCorner: XY|(70,70,0)

#     box[plate2rail]:( 75,325,175)|(150,150,10)|Gray|(150,150,20)
#     boolean: plate2rail: difference: box:(0,0,0)|(145,145,60)|Black|true

#     box[plate2railCorner]:( 75,325,160)|(5,5,20)|Gray|(150,150,20)
#     symmetry: plate2railCorner: XY|(70,70,0)


    boolean: floor: difference: box:(425,325,-90)|(120,120,200)|Black|false
    boolean: floor: difference: box:( 75,325,-90)|(120,120,200)|Black|false

    cylinder[piston1]:(425,325,-150)|(0,0,-1)|300|10|DarkGray
    cylinder[piston2]:( 75,325,-150)|(0,0,-1)|300|10|DarkGray

    box[tile]:(425,325,-5)|(12,12,3)|Gray|(130,130,50)
    boolean: tile: difference: cylinder:(0,0,-10)|(0,0,-1)|20|5|Black|true
    repeat: tile: (10,10,0)|12
    boolean: tile: union: cylinder:(0,0,-5)|(0,0,-1)|10|20|DarkGray|true
    boolean: tile: difference: cylinder:(0,0,-20)|(0,0,-1)|40|18|Black|true

    box[tile2]:( 75,325,-5)|(12,12,3)|Gray|(130,130,50)
    boolean: tile2: difference: cylinder:(0,0,-10)|(0,0,-1)|20|5|Black|true
    repeat: tile2: (10,10,0)|12
    boolean: tile2: union: cylinder:(0,0,-5)|(0,0,-1)|10|20|DarkGray|true
    boolean: tile2: difference: cylinder:(0,0,-20)|(0,0,-1)|40|18|Black|true

    box[whiteBoard1]:(500,125,75)|(10,200,150)|White|(10,200,200)
    box[frame1]:(500,125,75)|(5,225,175)|Gray|(10,250,200)

    box[whiteBoard2]:(2,325,225)|(10,150,150)|White|(10,200,200)
    box[frame2]:(2,325,225)|(5,175,150)|Gray|(10,250,200)
}

lights
{
    light:(250,300,200)|White|20000
    light:(-150,100,150)|White|5000
    light:(250,525,-100)|Gray|2000
}

dynamic
{

}

physics
{
    physics_object[pb1]:(300,535,0)|Gray|Green
    physics_object[pb2]:(75,325,200)|Gray|Yellow
}

interactables
{
    door[d1]:(-150,300,0)|(0,1,0)|wall6|DarkBlue|1
    door[d2]:(250,0,0)|(0,1,0)|wall3|DarkRed|2

    floor_button[fb1]:(350,200,0)|DarkRed
    floor_button[fb2]:(150,200,0)|DarkRed

    portal_spawner[spawner]:(498,325,225)|(-1,0,0)|0|Orange|true

    connect: fb1 -> d2
    connect: fb2 -> d2
}

portalable
{
    bottom1
    whiteBoard1
    whiteBoard2
}
